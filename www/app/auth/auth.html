<ion-view hide-nav-bar="true" on-swipe-right="goTo('intro-step3')">
    <ion-content class="padding bg-intro">
        <div class="logo-sm">
            <img src="img/logo_hack_a_i_r_small_rect_light_b_g.svg" />
        </div>
        <div class="auth-tabs-container">
            <div class="auth-tabs-nav">
                <a ng-class="{'auth-tab-nav-active': vm.isTabActive('login')}" class="auth-tab-nav auth-tab-nav-active" ng-click="vm.setTabActive('login')">
                  <span class="tab-title ng-binding">{{ 'auth.login' | translate }}</span>
                </a>
                <a ng-class="{'auth-tab-nav-active': vm.isTabActive('register')}" class="auth-tab-nav" ng-click="vm.setTabActive('register')">
                  <span class="tab-title ng-binding">{{ 'auth.register' | translate }}</span>
                </a>
            </div>

            <div class="auth-tabs-content" ng-class="{'auth-tab-login-height': vm.isTabActive('login'), 'auth-tab-register-height': vm.isTabActive('register')}">
                <!-- Login form -->
                <form class="login-form form" name="vm.loginForm" novalidate>
                <div class="auth-tab-login auth-tab-active" ng-class="{'auth-tab-active': vm.isTabActive('login')}">

                    <div class="auth-input">
                      <div class="auth-input-icon">
                        <img src="img/icon_email.svg" />
                      </div>
                      <input type="email" name="email" ng-model="vm.user.email" minlength="5" required>
                      <span class="auth-input-label" aria-label="Email" ng-hide="vm.loginForm.email.$touched && vm.loginForm.email.$invalid" ng-show="vm.loginForm.email.$valid && vm.loginForm.email.$touched">{{ 'auth.email' | translate }}</span>

                      <span class="input-error auth-input-label" style="font-size:13px; color: #ff6666" ng-messages="vm.loginForm.email.$touched && vm.loginForm.email.$error" role="alert">
                        <div ng-message="email">{{ vm.loginForm.message.email[0] }}</div>
                      </span>
                    </div>

                    <div class="auth-input">
                        <div class="auth-input-icon">
                            <img src="img/icon_password.svg" />
                        </div>
                        <input type="password" name="password" minlength="4" required ng-model="vm.user.password">
                        <span class="auth-input-label" aria-label="Password" ng-hide="vm.loginForm.password.$touched && vm.loginForm.password.$invalid" ng-show="vm.loginForm.password.$valid && vm.loginForm.password.$touched">{{ 'auth.password' | translate }}</span>
                        <span class="auth-input-label input-error"  style="font-size:13px; color: #ff6666" ng-messages="vm.loginForm.password.$touched && vm.loginForm.password.$error" role="alert">
                          <div ng-message="required">{{'auth.password_required' | translate}}</div>
                        </span>
                    </div>


                    <div class="auth-actions">
                      <a ui-sref="forgot-password" ng-click="setTabActive('forgot')" class="assertive">{{ 'auth.forgot_password' | translate }}</a>
                      <button class="button button-calm" ng-click="vm.login()">{{ 'auth.login' | translate }}</button>
                    </div>

                  </div>
                </form>

                <!-- Registration form -->
                <form class="register-form form" style="height:450px!important;" name="vm.registerForm" novalidate>
                  <div class="auth-tab-register" ng-class="{'auth-tab-active': vm.isTabActive('register')}">
                      <div class="auth-input">
                          <div class="auth-input-icon">
                              <img src="img/icon_user.svg" />
                          </div>
                          <input type="text" name="username" ng-model="vm.user.username" ng-minlength="3" ng-maxlength="20" required>
                          <span class="auth-input-label" style="bottom: -29px!important; line-height: 13px;" aria-label="Username" ng-hide="vm.registerForm.username.$invalid && vm.registerForm.username.$touched" ng-show="vm.registerForm.username.$valid && vm.registerForm.username.$touched">{{ 'auth.username' | translate }}</span>
                           <span class="input-error auth-input-label" style="font-size:13px; color: #ff6666" ng-messages="vm.registerForm.username.$touched && vm.registerForm.username.$error" role="alert">
                            <div ng-message="required">{{'auth.username_required' | translate}}</div>
                            <div ng-message="minlength">{{'auth.username_min_length' | translate}}</div>
                            <div ng-message="maxlength">{{'auth.username_max_length' | translate}}</div>
                          </span>
                      </div>
                      <div class="auth-input">
                          <div class="auth-input-icon">
                              <img src="img/icon_email.svg" />
                          </div>
                          <input type="email" name="email" required ng-model="vm.user.email" ng-minlength="5">
                          <span class="auth-input-label" aria-label="Email" ng-hide="vm.registerForm.email.$touched && vm.registerForm.email.$invalid" ng-show="vm.registerForm.email.$valid && vm.registerForm.email.$touched" >{{ 'auth.email' | translate }}</span>
                          <span class="input-error auth-input-label" style="font-size:13px; color: #ff6666" ng-messages="vm.registerForm.email.$touched && vm.registerForm.email.$error" role="alert">
                            <div ng-message="required">{{ vm.registerForm.message.required[0] || {{'auth.email_required' | translate}} }}</div>
                            <div ng-message="minlength">{{'auth.email_min_length' | translate}}</div>
                            <div ng-message="maxlength">{{'auth.email_max_length' | translate}}</div>
                            <div ng-message="email">{{ vm.registerForm.message.email[0] ||{{'auth.email_invalid' | translate}}}}</div>
                          </span>
                      </div>

                      <div class="auth-input">
                          <div class="auth-input-icon">
                              <img src="img/icon_password.svg" />
                          </div>
                          <input type="password" name="password" ng-model="vm.user.password" required minlength="4">
                          <span class="auth-input-label" aria-label="Password" ng-hide="vm.registerForm.password.$touched && vm.registerForm.password.$invalid" ng-show="vm.registerForm.password.$valid && vm.registerForm.password.$touched">{{ 'auth.password' | translate }}</span>
                          <span class="input-error auth-input-label" style="font-size:13px; color: #ff6666" ng-messages="vm.registerForm.password.$touched && vm.registerForm.password.$error" role="alert">
                            <div ng-message="required">{{'auth.password_required' | translate}}</div>
                            <div ng-message="minlength">{{'auth.password_min_length' | translate}}</div>
                            <div ng-message="maxlength">{{'auth.password_max_length' | translate}}</div>
                          </span>
                      </div>

                      <div class="auth-input">
                          <div class="auth-input-icon">
                              <img src="img/icon_repeat.svg" />
                          </div>
                          <input type="password" name="confirm" ng-model="vm.user.confirm" required minlength="4" compare-to="vm.user.password">
                          <span class="auth-input-label" aria-label="Repeat password" ng-hide="vm.registerForm.confirm.$touched && vm.registerForm.confirm.$invalid" ng-show="vm.registerForm.confirm.$valid && vm.registerForm.confirm.$touched" >{{ 'auth.repeat_password' | translate }}</span>
                          <span class="input-error auth-input-label" style="font-size:13px; color: #ff6666" ng-messages="vm.registerForm.confirm.$touched && vm.registerForm.confirm.$error" role="alert">
                            <div ng-message="required">{{'auth.repeat_password_required' | translate}}</div>
                            <div ng-message="minlength">{{'auth.repeat_password_min_length' | translate}}</div>
                            <div ng-message="minlength">{{'auth.repeat_password_no_match' | translate}}</div>
                          </span>
                      </div>

                      <div class="auth-input" ng-show="{{vm.currentLanguage == 'de'}}">
                        <input type="checkbox" name="permission" ng-model="vm.user.permission" />
                        <span class="auth-input-label">Ich gebe die Zustimmung, dass <a href="https://www.bund.net/">BUND</a> meine e-mail verwenden kann</span>
                      </div>


                        <div class="row" style="margin-top:-15px; margin-left:10px;">
                            <div class="col-xs-12 ">
                                <h6 style="font-size: 11px;">{{'auth.i_want_to_receive_newsletters' | translate}} 
                                  <!-- <label class="toggle"> -->
                                    <input type="checkbox" ng-checked="vm.accept_newsletters" ng-click="vm.toggleNewsletter()">
                                  <!-- </label> -->
                                </h6>
                            </div>
                        </div>                        

                        <div class="row" style="margin-top:-15px; margin-left:10px;">
                            <div class="col-xs-12 ">
                                <h6 style="font-size: 11px; letter-spacing: 0.5px;">{{'auth.terms_of_service_1' | translate}} <a style="color: #237378; text-decoration: underline; font-weight:bold;" href="http://hackair.onsubject.eu/terms-and-conditions/" target="_blank">{{'auth.terms_of_service_2' | translate}}</a>
                                  <!-- <label class="toggle"> -->
                                    <input type="checkbox" ng-checked="vm.acceptTerms" ng-click="vm.toggleAcceptTerms()">
                                  <!-- </label> -->
                                </h6>
                            </div>
                        </div>


                      <div class="auth-actions" style="margin: 0px 20px 0px 0px!important;">
                          <button ng-disabled="!vm.acceptTerms" class="button button-calm" ng-click="vm.register()">{{ 'auth.register' | translate }}</button>
                      </div>

                      <!-- <div style="margin-top: 94px; text-align: center;">
                        <h6 style="border: 2px solid #0a7c82; padding: 4px; font-size: 11px; letter-spacing: 0.5px;">{{'auth.terms_of_service_1' | translate}} <a style="color: #237378; text-decoration: underline; font-weight:bold;" href="http://hackair.onsubject.eu/terms-and-conditions/" target="_blank">{{'auth.terms_of_service_2' | translate}}</a></h6>
                      </div> -->

                  </div>
                </form>
            </div>


        </div>
    </ion-content>
</ion-view>
